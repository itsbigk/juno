angular.module("Juno",["ui.router"]),angular.module("Juno").controller("createRestaurantController",["$scope","Restaurant",function(t,e){t.type="create",t.formData={},t.saveRestaurant=function(a){console.log(t.formData),t.processing=!0,t.message="",e.create(t.formData).success(function(e){t.processing=!1,t.message=e.message}).error(function(e){t.message=e.message})}}]),angular.module("Juno").controller("deleteRestaurantController",["$scope","Restaurant","$stateParams",function(t,e,a){t.type="delete",e.all().success(function(e){t.restaurants=e}),t.deleteRestaurant=function(a){e["delete"](a).success(function(e){t.message=e.message,t.restaurants=e.restaurants})}}]),angular.module("Juno").controller("editRestaurantController",["$scope","Restaurant","$stateParams","$location",function(t,e,a,r){t.type="edit",e.get(a.restaurant_id).success(function(e){t.formData=e,t.restaurantState=e.state}),t.saveRestaurant=function(){t.processing=!0,t.message="",e.update(a.restaurant_id,t.formData).success(function(e){t.processing=!1,t.message=e.message}).error(function(e){t.processing=!1,t.message=e.message})}}]),angular.module("Juno").controller("adminRestaurantIndex",["$scope","Restaurant",function(t,e){t.type="list",t.message="",e.all().success(function(e){t.restaurants=e}),t.archiveListing=function(a){e.update(a,{archived:!0}).success(function(e){t.message="Restaurant archived successfully!",t.restaurants=e.restaurants}).error(function(e){t.message="Restaurant was not archived"})}}]),angular.module("Juno").controller("homeController",["$scope",function(t){t.hey="hey"}]),angular.module("Juno").factory("Restaurant",["$http",function(t){return{all:function(){return t.get("/api/restaurants")},get:function(e){return t.get("/api/restaurants/"+e)},create:function(e){return t.post("/api/restaurants",e)},update:function(e,a){return t.put("/api/restaurants/"+e,a)},"delete":function(e){return t["delete"]("/api/restaurants/"+e)}}}]),angular.module("Juno").config(["$stateProvider","$urlRouterProvider","$locationProvider",function(t,e,a){e.otherwise("/"),t.state("/",{url:"/",controller:"homeController",templateUrl:"partials/home.html"}).state("admin",{url:"/admin",controller:"adminRestaurantIndex",templateUrl:"partials/admin/admin.html"}).state("admin-restaurant-index",{url:"/admin/restaurants",controller:"adminRestaurantIndex",templateUrl:"partials/admin/restaurants/index.html"}).state("admin-delete-restaurants",{url:"/admin/restaurants/delete",controller:"deleteRestaurantController",templateUrl:"partials/admin/restaurants/index.html"}).state("admin-restaurant-new",{url:"/admin/restaurants/new",controller:"createRestaurantController",templateUrl:"partials/admin/restaurants/restaurant.html"}).state("admin-edit-restaurant",{url:"/admin/restaurants/:restaurant_id",controller:"editRestaurantController",templateUrl:"partials/admin/restaurants/restaurant.html"})}]);